summon marker ~ ~ ~
#execute align xyz positioned ~0.5 ~0.5 ~0.5 run summon block_display ~-0.5 ~-0.5 ~-0.5 {Passengers:[{id:"minecraft:block_display",block_state:{Name:"minecraft:lodestone",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:amethyst_cluster",Properties:{facing:"down"}},transformation:[-1.0000f,0.0000f,0.0000f,1.0000f,-0.0000f,-1.0000f,0.0000f,1.9375f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:small_amethyst_bud",Properties:{facing:"down"}},transformation:[-0.0000f,-1.0000f,0.0000f,1.9375f,1.0000f,-0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:small_amethyst_bud",Properties:{facing:"down"}},transformation:[-0.0000f,-1.0000f,0.0000f,1.9375f,1.0000f,-0.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:small_amethyst_bud",Properties:{facing:"down"}},transformation:[-0.0000f,0.0000f,-1.0000f,1.0000f,1.0000f,-0.0000f,0.0000f,0.0000f,-0.0000f,-1.0000f,-0.0000f,1.9375f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:small_amethyst_bud",Properties:{facing:"down"}},transformation:[0.0000f,0.0000f,-1.0000f,1.0000f,-1.0000f,0.0000f,0.0000f,1.0000f,0.0000f,1.0000f,0.0000f,-1.0000f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:small_amethyst_bud",Properties:{facing:"down"}},transformation:[0.0000f,1.0000f,0.0000f,-1.0000f,-1.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]}]}
execute align xyz run summon block_display ~ ~ ~ {Passengers:[{id:"minecraft:block_display",block_state:{Name:"minecraft:cobblestone",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,0.4375f,0.0000f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:cobblestone",Properties:{}},transformation:[-0.5000f,0.0000f,0.3789f,1.1250f,0.0000f,1.0000f,0.0000f,0.0000f,-0.8660f,0.0000f,-0.2187f,1.0844f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:cobblestone",Properties:{}},transformation:[0.5000f,0.0000f,0.3789f,-0.5000f,0.0000f,1.0000f,0.0000f,0.0000f,-0.8660f,0.0000f,0.2187f,0.8750f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:cobblestone",Properties:{}},transformation:[-1.0000f,0.0000f,-0.0000f,1.0000f,0.0000f,1.0000f,0.0000f,0.0000f,0.0000f,0.0000f,-0.4375f,1.7497f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:cobblestone",Properties:{}},transformation:[0.5000f,0.0000f,-0.3789f,-0.1250f,0.0000f,1.0000f,0.0000f,0.0000f,0.8660f,0.0000f,0.2187f,0.6652f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:cobblestone",Properties:{}},transformation:[-0.5000f,0.0000f,-0.3789f,1.5000f,0.0000f,1.0000f,0.0000f,0.0000f,0.8660f,0.0000f,-0.2187f,0.8747f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:oak_fence",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.7500f,0.0000f,1.5000f,0.0000f,0.9375f,0.0000f,0.0000f,1.0000f,0.3750f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:oak_fence",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,-0.6875f,0.0000f,1.5000f,0.0000f,0.9375f,0.0000f,0.0000f,1.0000f,0.3750f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:bricks",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,-0.6875f,0.0000f,0.1083f,0.5000f,1.9375f,0.0000f,-0.0625f,0.8660f,0.0625f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:bricks",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.6875f,0.0000f,0.1083f,0.5000f,1.9375f,0.0000f,-0.0625f,0.8660f,0.0625f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:bricks",Properties:{}},transformation:[1.0000f,0.0000f,0.0000f,0.1875f,0.0000f,0.1083f,0.5000f,1.9375f,0.0000f,-0.0625f,0.8660f,0.0625f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:bricks",Properties:{}},transformation:[-1.0000f,-0.0000f,0.0000f,1.6875f,0.0000f,0.1083f,0.5000f,1.9375f,-0.0000f,0.0625f,-0.8660f,1.6875f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:bricks",Properties:{}},transformation:[-1.0000f,-0.0000f,0.0000f,0.3125f,0.0000f,0.1083f,0.5000f,1.9375f,-0.0000f,0.0625f,-0.8660f,1.6875f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:bricks",Properties:{}},transformation:[-1.0000f,-0.0000f,0.0000f,0.8125f,0.0000f,0.1083f,0.5000f,1.9375f,-0.0000f,0.0625f,-0.8660f,1.6875f,0.0000f,0.0000f,0.0000f,1.0000f]}]}
tag @e[type=block_display, distance=..2] add towndisplay
data modify entity @e[distance=..1, limit=1, type=marker] CustomName set from entity @s Item.tag.display.Name 
tag @e[distance=..1, limit=1, type=marker] add town

# set town id and increment global id, first town will have id 1
scoreboard players operation @e[distance=..1, limit=1, type=marker] town = %global town
scoreboard players add @e[distance=..1, limit=1, type=marker] town 1
scoreboard players operation %global town = @e[distance=..1, limit=1, type=marker] town 

playsound ui.toast.challenge_complete block @a ~ ~ ~
particle totem_of_undying ~ ~ ~ 0 10 0 0 50


kill @s